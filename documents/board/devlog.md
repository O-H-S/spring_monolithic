# `Board(게시판)` 개발 기록

- TO-DO
    - BoardManageService -> BoardService로 명칭 변경하기
    - RESTful 원칙으로 다시 작성하기.
    - 최적화 
      - 아직 대용량 데이터로 테스트 해보지 않았지만, 한눈에 봐도 비효율적인 부분들이 많음.
        - 대용량 데이터 입력 테스트 코드 작성하기.
          - 테스트 여러번 할수록 시간이 점점 짧아지는 정확한 이유 파악하기. 
          - Post/ insert 테스트 코드(진행중)
          - Post/ count 
          - 
      - "만약 대규모 요청이 빠르게 들어온다면?" 이에 대한 최적화도 필요해보임.
        - 응답시간을 낮추는 것이 목표.
      - 대상
        - 게시글(Post) 조회 
          - 페이지네이션
          - 전체 게시글 개수 조회
          - 댓글수 조회
        - 게시글 작성 / 삭제
        - 게시글 변경

        
        

- Problem / Error
    - 

----
대량의 Post 데이터 insert 테스트 코드
- Post Entity는 채번 전략이 IDENTITY이므로, DB에 Insert 쿼리를 보낸 후 생성된 id값을 받아와야한다.(데이터베이스 round-trip을 수행해야 함) (id 값은 영속성 컨텍스트 관리를 위해 사전에 필요하다.) 따라서, 일괄적으로 insert 하는 것이 불가능하다.
  - 만약 id 할당을 미룬다면, 차후에 동일한 entity의 접근이 일어날경우 동작을 예측하기 힘들어진다.
  - IDENTITY에서 MySQL은 AUTO_INCREMENT를 PK 컬럼에 설정한다.
  - SEQUENCE로 바꾸면? -> mysql은 시퀀스 객체를 지원하지 않았다.(8.0이상부터는 지원하지만 hibernate가 아직 구현하지 않았다?)
  - TABLE 은? ->
  - 따라서, saveall을 사용하더라도 배치되어 처리되지 않는다.
- 단순히, 테스트 데이터를 밀어넣는건데 영속성 관리가 필요한가? -> JDBC를 직접 사용하자.
  - 
